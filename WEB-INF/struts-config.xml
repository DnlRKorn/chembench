<?xml version="1.0"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://struts.apache.org/dtds/struts-config_1_2.dtd">
<struts-config>
	<data-sources></data-sources>
	<form-beans>
		<form-bean name="qsarForm"
			type="edu.unc.ceccr.formbean.QsarFormBean">
		</form-bean>
		<form-bean name="viewOutputForm"
			type="edu.unc.ceccr.formbean.ViewOutputFormBean">
		</form-bean>
		<form-bean name="predictorForm"
			type="edu.unc.ceccr.formbean.PredictorFormBean">
		</form-bean>
		<form-bean name="viewModelsForm"
			type="org.apache.struts.validator.LazyValidatorForm">
		</form-bean>
		<form-bean name="loginForm"
			type="edu.unc.ceccr.formbean.LoginFormBean">
		</form-bean>
		<form-bean name="UserInfoForm"
		     type="edu.unc.ceccr.formbean.UserInfoFormBean">
		 </form-bean>    
		 <form-bean name="SoftwareExpirationForm"
		      type="edu.unc.ceccr.formbean.SoftwareExpirationForm">
		 </form-bean>  
		 <form-bean name="EmailToAllBean"
		      type="edu.unc.ceccr.formbean.EmailToAllBean">
		 </form-bean> 
        <form-bean name="visForm"
			type="edu.unc.ceccr.formbean.DatasetFilesBean">
		</form-bean>
		<form-bean name="datasetForm" 
		type="edu.unc.ceccr.formbean.DatasetFormBean">
		</form-bean>
             
	</form-beans>
	<global-exceptions></global-exceptions>
	<!-- ========== Global Forwards =============================== -->
	<global-forwards>
		<forward name="welcome" path="/checkSession.do" />
	    <forward name="login" path="/jsp/main/home.jsp" /> 
		<forward name="failure" path="/jsp/main/error.jsp" />
	</global-forwards>
	
	<!-- ============== Action Mapping Definitions =========================== -->
	<action-mappings>
	
		<action path="/login" forward="/checkSession.do" />
		               
		<action path="/librarydesign" type="edu.unc.ceccr.action.LibraryAction">
		<forward name="login" path="/jsp/main/home.jsp"/>
		</action>
		
		<action path="/manageFile" type="edu.unc.ceccr.action.DatasetForwardAction" scope="session">
		 <forward name="success" path="/jsp/dataSet/manageFile.jsp" />
		 <forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		
        <action path="/home" forward="/jsp/main/home.jsp" />	
		
		<action path="/vpubchem"
			type="edu.unc.ceccr.action.CheckSessionAction">
			<forward name="login" path="/jsp/main/home.jsp" />
			<forward name="loggedin" path="/jsp/main/underConstruction.jsp" />
		</action>		
		
		<action path="/deleteRecord"
			type="edu.unc.ceccr.action.DeleteRecordAction"  scope="request">
			<forward name="success" path="/viewTaskList.do"/>
			<forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		<action path="/smilesPredict"
		type="edu.unc.ceccr.action.SmilesPredictAction"  scope="request">
			<forward name="success" path="/jsp/prediction/predictionResults.jsp"/>
			<forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		<action path="/modelbuilders"
			type="edu.unc.ceccr.action.CheckSessionAction">
			<forward name="loggedin" path="/loadModelingPage.do" />
			<forward name="login" path="/jsp/main/home.jsp" />
		</action>		
		<action path="/loadModelingPage"
			type="edu.unc.ceccr.action.ModelingForward">
			<forward name="success" path="/jsp/modeling/modeling.jsp" />
			<forward name="login" path="/jsp/main/home.jsp" />
		</action>				
		<action path="/predictorsSave"
			type="edu.unc.ceccr.action.SaveOutputAction">
			<forward name="success" path="/viewTaskList.do" />
		</action>
		<action path="/predictors"
			type="edu.unc.ceccr.action.PredictionForward">
			<forward name="success" path="/jsp/prediction/selectPredictor.jsp" />
			<forward name="login" path="/jsp/main/home.jsp" />
		</action>
		
		<action path="/cancelJob"	
			type="edu.unc.ceccr.action.CancelJob">
			<forward name="success" path="/viewTaskList.do" />
			<forward name="mod" path="/viewTaskList.do" />
			<forward name="predictor" path="/viewTaskList.do" />
			<forward name="failure" path="/viewTaskList.do" />
		</action>
		
		<action path="/submitQsarWorkflow"
			type="edu.unc.ceccr.action.QsarModelingAction"
			input="/jsp/modeling/modeling.jsp" name="qsarForm" scope="session">
			<forward name="success" path="/viewTaskList.do" />
			<forward name="failure" path="/jsp/main/error.jsp" />
			<forward name="login" path="/jsp/main/home.jsp" />
		</action>
		
		<action path="/submitDataset"
			type="edu.unc.ceccr.action.SubmitDatasetAction"
			input="/jsp/manageFile.jsp" name="datasetForm" scope="session">
			<forward name="success" path="/jsp/dataSet/dataSetUploadSuccessful.jsp" />
			<forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		
		<action path="/setVisData" forward="/jsp/dataSet/additionalDatasetFilesGeneration.jsp" />
		
		<action path="/generateDatasetVis" type="edu.unc.ceccr.action.GenerateDatasetInfoAction"
				input="jsp/dataSet/additionalDatasetFilesGeneration.jsp" name="visForm" scope="request">
			<forward name="success" path="/jsp/dataSet/visualizationJobPosted.jsp" />
			<forward name="failure" path="/jsp/dataSet/visualizationJobPostError.jsp" />		
		
		</action>
		
		<!-- activityChart?doGet -->
		<action path="/activityChartVisualization" type="edu.unc.ceccr.action.VisualizationAction" 
		input="/jsp/modeling/modeling.jsp" scope="request">
		<forward name="success" path="/activityChart?doGet" />
		<forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		
		<action path="/viewModels"
			type="edu.unc.ceccr.action.ViewPreviouslyGeneratedModels"
			input="/jsp/modeling/modeling.jsp" name="qsarForm" scope="request">
			<forward name="success" path="/jsp/modeling/viewPreviouslyGeneratedModels.jsp" />
			<forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		
		<action path="/filterModels" forward ="/jsp/modeling/filterModels.jsp" />
		
		<action path="/selectPredictor"
			type="edu.unc.ceccr.action.SelectPredictorActionForward"
			input="/jsp/prediction/selectPredictor.jsp" name="predForm" scope="request">
			<forward name="success" path="/jsp/prediction/makePredictions.jsp" />
			<forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		
		<action path="/viewmb"
			type="edu.unc.ceccr.action.ViewCompletedJob">
			<forward name="success" path="/jsp/modeling/viewPreviouslyGeneratedModels.jsp" />
			<forward name="mod" path="/jsp/modeling/viewPreviouslyGeneratedModels.jsp" />
			<forward name="predictor" path="/jsp/prediction/viewCompletedPrediction.jsp" />
			<forward name="visualization"  path="/viewDataset.do" />
			<forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		<action path="/viewModelStat"
			type="edu.unc.ceccr.action.ViewPreviouslyGeneratedModels" input="/jsp/modeling/viewPreviouslyGeneratedModels.jsp"
			name="qsarForm" scope="request">
			<forward name="success" path="/jsp/modeling/modelingResults.jsp" />
			<forward name="failure" path="/jsp/main/error.jsp" />
		</action>s
		
		<action path="/viewObservedValue"
			type="edu.unc.ceccr.action.ObservedVSPredictedAction"  scope="request">
			<forward name="success" path="/jsp/observedVsPredictedValue.jsp" />
			<forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		
		<action path="/viewPredOutput"
			type="edu.unc.ceccr.action.ViewPredOutputActionForward"
			input="/jsp/prediction/selectPredictor.jsp" name="viewOutputForm" scope="request">
			<forward name="success" path="/jsp/prediction/viewPrediction.jsp" />
			<forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		<action path="/execPredictor"
			type="edu.unc.ceccr.action.QsarPredictionAction"
			input="/jsp/prediction/makePredictions.jsp" name="predictorForm" scope="request">
			<forward name="success" path="/viewTaskList.do" />
			<forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		<action path="/submitLogin"
			type="edu.unc.ceccr.action.LoginAction" input="/jsp/main/home.jsp"
			name="loginForm" scope="request">
			<forward name="success" path="/jsp/main/home.jsp" />
			<forward name="failure" path="/jsp/administration/user/lostPasswordRetrieval.jsp"/>
		</action>
		
		<action path="/deleteUser" type="edu.unc.ceccr.action.RegisterActions.DeleteUserAction" scope="request">
		<forward name="success" path="/viewUsers.do"/>
		<forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		
		<action path="/checkNewUser" 
		type="edu.unc.ceccr.action.RegisterActions.CheckNewUserAction" name="UserInfoForm"
		scope="session">
	    <forward name="success" path="/jsp/administration/settings/pendingNewUserApprovals.jsp"/>
	    <forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		

		<action path="/help" forward="/jsp/main/helpPage.jsp" />

		<!--  <action path="/request" forward="/jsp/RequestObjectTest.jsp" />-->
		<!-- <action path="/request2" forward="/jsp/RequestObjectInJSP.jsp" />-->
		
		 <!-- <action path="/forUser" forward="/jsp/forUser.jsp" /> -->
		 
		 <action path="/forUser"
			type="edu.unc.ceccr.action.CheckSessionAction">
			<forward name="login" path="/jsp/main/home.jsp" />
			<forward name="loggedin" path="/jsp/administration/settings/userAccountSettings.jsp" />
		</action>		
		 
		<action path="/gotoregister" forward="/jsp/administration/user/registrationForm.jsp" />
		<action path="/notReady" forward="/jsp/main/underConstruction.jsp"/>
		
		<action path="/updateSoftwareDate" type="edu.unc.ceccr.action.RegisterActions.UpdateSoftwareAction"
		input ="/jsp/administration/settings/systemSettings.jsp"  name="SoftwareExpirationForm" scope="request">
		<forward name="success" path="/admin.do"/>
		<forward name="failure" path="/jsp/main/error.jsp"/>
		</action>
		<action path="/getSoftwareDates" type="edu.unc.ceccr.action.RegisterActions.UpdateSoftwareAction" scope="request">
		<forward name="success" path="/admin.do"/>
		<forward name="failure" path="/jsp/main/error.jsp"/>
		</action>
		
		<action path="/register" type="edu.unc.ceccr.action.RegisterActions.RegisterAction"
		input="/jsp/register.jsp" name="UserInfoForm" scope="session">
		<forward name="success" path="/jsp/administration/user/registrationApprovalMessage.jsp"/>
		<forward name="back" path="/jsp/administration/user/registrationForm.jsp"/>
		<forward name="failure" path="/jsp/administration/user/registrationError.jsp"/>
		</action>
		
		<action path="/agree" type="edu.unc.ceccr.action.RegisterActions.AgreeAction" scope="request">
		<forward name="success" path="/checkNewUser.do"/>
		<forward name="failure" path="/jsp/main/error.jsp"/>
		</action>
		
		<action path="/deny" type="edu.unc.ceccr.action.RegisterActions.DenyAction" scope="request">
		<forward name="success" path="/checkNewUser.do"/>
		<forward name="failure" path="/jsp/main/error.jsp"/>
		</action>
		
		<action path="/permission" type="edu.unc.ceccr.action.RegisterActions.QueuedJobPermissionAction" scope="request">
		<forward name="success" path="/admin.do" />
		<forward name="failure" path="/jsp/main/error.jsp"/>
		</action>
		
		<action path="/admin" type="edu.unc.ceccr.action.RegisterActions.Administration" scope="request">
		<forward name="admin" path="/jsp/administration/settings/systemSettings.jsp"/>
		<forward name="failure" path="/jsp/main/error.jsp"/>
		</action>
		
		<action path="/updateAdminSettings" type="edu.unc.ceccr.action.RegisterActions.UpdateAdminSettingsAction" scope="request">
		<forward name="admin" path="/jsp/administration/settings/systemSettings.jsp"/>
		<forward name="failure" path="/jsp/main/error.jsp"/>
		</action>
		
		<action path="/viewUsers" type="edu.unc.ceccr.action.RegisterActions.ViewUsersAction" scope="request">
		<forward name="success" path="/jsp/administration/user/userInformation.jsp" />
		<forward name="failure" path="/jsp/main/error.jsp"/>
		</action>
		
		<action path="/toEmail" forward="/jsp/administration/user/emailToAll.jsp"></action>
		<action path="/getPassword" forward="/jsp/administration/user/lostPasswordRetrieval.jsp"></action>
		<action path="/alterPassword" forward="/jsp/administration/settings/userAccountSettings.jsp"></action>
		
		
		<action path="/emailAll" type="edu.unc.ceccr.action.RegisterActions.EmailAllAction" 
		input="/jsp/administration/user/emailToAll.jsp" name="EmailToAllBean" scope="request">
		<forward name="failure" path="/jsp/main/error.jsp"/>
		</action>
		
		<action path="/deleteFile" type="edu.unc.ceccr.action.DeleteUserFile" scope="request">
		<forward name="success" path="/manageFile.do"/>
		<forward name="failure" path="/jsp/main/error.jsp"/>
		</action>
		
		<action path="/viewDataset" type="edu.unc.ceccr.action.ViewDatasetAction">
			<forward name="success" path="/jsp/dataSet/dataSetVisualization.jsp" />
			<forward name="failure" path="/jsp/main/error.jsp"/>
		</action>
		
		<action path="/retrievePassword" type="edu.unc.ceccr.action.RegisterActions.RetrievePasswordAction" 
		input="/jsp/administration/user/lostPasswordRetrieval.jsp" scope="request">
		<forward name="success" path="/jsp/administration/user/forgetPasswordSent.jsp"/>
		<forward name="failure" path="/jsp/administration/settings/changePasswordMatchError.jsp"/>
		</action>
		
		<action path="/changePassword" type="edu.unc.ceccr.action.RegisterActions.ChangePasswordAction"  
		 input="/jsp/administration/settings/userAccountSettings.jsp" scope="request">
		<forward name="success" path="/jsp/administration/settings/changePasswordSuccess.jsp"/>
		<forward name="NoUser"  path="/jsp/administration/settings/changePasswordMatchError.jsp"/>
		<forward name="failure" path="/jsp/administration/settings/changePasswordMatchError.jsp"/>
		</action>
		
		<action path="/checkSession" type="edu.unc.ceccr.action.CheckSessionAction" scope="request">
		<forward name="loggedin" path="/jsp/administration/user/sessionExpirationNotify.jsp"/>
		<forward name="login" path="/jsp/main/home.jsp" />
		</action>
		
		<action path="/logout" type="edu.unc.ceccr.action.LogoutAction" scope="request">
			<forward name="success" path="/jsp/main/home.jsp" />
		</action>
		<action path="/cleanmb" type="edu.unc.ceccr.action.DeleteAction"
			scope="request">
			<forward name="success" path="/viewTaskList.do" />
		</action>
		<action path="/savemb" type="edu.unc.ceccr.action.SaveOutputAction"
			scope="request">
			<forward name="success" path="/viewTaskList.do" />
		</action>
		<action path="/cleanpr" type="edu.unc.ceccr.action.DeleteAction"
			scope="request">
			<forward name="success" path="/viewTaskList.do" />
		</action>
		<action path="/savepr"
			type="edu.unc.ceccr.action.SaveOutputAction" scope="request">
			<forward name="success" path="/viewTaskList.do" />
		</action>
		<action path="/myjobs" forward="/viewTaskList.do" />
		<action path="/taskListChange"
			type="edu.unc.ceccr.action.TaskListChangeAction" scope="request">
			<forward name="success" path="/jsp/jobs/taskList.jsp" />
		</action>
		<action path="/viewTaskList"
			type="edu.unc.ceccr.action.ViewTaskListAction" scope="request">
			<forward name="success" path="/jsp/jobs/myJobs.jsp" />
		</action>
		<action path="/delete"
			type="edu.unc.ceccr.action.DeletePredOutputAction" scope="request">
			<forward name="success" path="/viewTaskList.do"/>
		</action>
		<!-- Additional Actions Would Go Here -->
	</action-mappings>
	<controller
		processorClass="org.apache.struts.tiles.TilesRequestProcessor" />
	<message-resources parameter="MessageResources" />
	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config"
			value="/WEB-INF/tiles-defs.xml" />
		<set-property property="moduleAware" value="true" />
	</plug-in>
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml" />
	</plug-in>
</struts-config>
