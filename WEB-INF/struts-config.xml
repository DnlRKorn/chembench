<?xml version="1.0"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN" "http://struts.apache.org/dtds/struts-config_1_2.dtd">
<struts-config>
	<data-sources></data-sources>
	<form-beans>
		 <form-bean name="EmailToAllBean"
		      type="edu.unc.ceccr.formbean.EmailToAllBean">
		 </form-bean> 
	</form-beans>
	
	<global-exceptions></global-exceptions>
	<!-- ========== Global Forwards =============================== -->
	<global-forwards>
		<forward name="failure" path="/jsp/main/error.jsp" />
	</global-forwards>
	
	<!-- ============== Action Mapping Definitions =========================== -->
	<action-mappings>
	
		<action path="/externalValidationChart" forward="/chart?doGet" />
		
		<action path="/deleteUser" type="edu.unc.ceccr.action.RegisterActions.DeleteUserAction" scope="request">
		<forward name="success" path="/viewUsers.do"/>
		<forward name="failure" path="/jsp/main/error.jsp" />
		</action>
		
		<action path="/checkNewUser" 
		type="edu.unc.ceccr.action.RegisterActions.CheckNewUserAction" name="UserInfoForm"
		scope="session">
	    <forward name="success" path="/jsp/administration/settings/pendingNewUserApprovals.jsp"/>
	    <forward name="failure" path="/jsp/main/error.jsp" />
		</action>
			
		<action path="/toEmail" forward="/jsp/administration/user/emailToAll.jsp"></action>
		<action path="/getPassword" forward="/jsp/administration/user/lostPasswordRetrieval.jsp"></action>
		<action path="/alterPassword" forward="/jsp/administration/settings/userAccountSettings.jsp"></action>
		
		<action path="/emailAll" type="edu.unc.ceccr.action.RegisterActions.EmailAllAction" 
		input="/jsp/administration/user/emailToAll.jsp" name="EmailToAllBean" scope="request">
		<forward name="failure" path="/jsp/main/error.jsp"/>
		</action>
		
	</action-mappings>
	
	<controller
		processorClass="org.apache.struts.tiles.TilesRequestProcessor" />
	<message-resources parameter="MessageResources" />
	<plug-in className="org.apache.struts.tiles.TilesPlugin">
		<set-property property="definitions-config"
			value="/WEB-INF/tiles-defs.xml" />
		<set-property property="moduleAware" value="true" />
	</plug-in>
	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/WEB-INF/validator-rules.xml,/WEB-INF/validation.xml" />
	</plug-in>
</struts-config>
